# Generated by Django 5.2.3 on 2025-09-11 06:06

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Vendor',
            fields=[
                ('vendor_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('vendor_code', models.CharField(help_text='Unique vendor identifier', max_length=50, unique=True)),
                ('company_name', models.CharField(help_text='Display name of the company', max_length=255)),
                ('legal_name', models.CharField(help_text='Legal registered name', max_length=255)),
                ('business_type', models.CharField(blank=True, max_length=100, null=True)),
                ('incorporation_date', models.DateField(blank=True, null=True)),
                ('tax_id', models.CharField(blank=True, max_length=50, null=True)),
                ('duns_number', models.CharField(blank=True, max_length=20, null=True)),
                ('website', models.URLField(blank=True, max_length=255, null=True)),
                ('industry_sector', models.CharField(blank=True, max_length=100, null=True)),
                ('annual_revenue', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('employee_count', models.PositiveIntegerField(blank=True, null=True)),
                ('headquarters_country', models.CharField(blank=True, max_length=100, null=True)),
                ('headquarters_address', models.TextField(blank=True, null=True)),
                ('geographic_presence', models.JSONField(blank=True, default=dict)),
                ('description', models.TextField(blank=True, null=True)),
                ('vendor_category_id', models.BigIntegerField(blank=True, null=True)),
                ('risk_level', models.CharField(choices=[('LOW', 'Low'), ('MEDIUM', 'Medium'), ('HIGH', 'High'), ('CRITICAL', 'Critical')], default='LOW', max_length=10)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('IN_REVIEW', 'In Review'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('SUSPENDED', 'Suspended'), ('TERMINATED', 'Terminated')], default='DRAFT', max_length=20)),
                ('lifecycle_stage', models.CharField(blank=True, max_length=50, null=True)),
                ('onboarding_date', models.DateField(blank=True, null=True)),
                ('last_assessment_date', models.DateField(blank=True, null=True)),
                ('next_assessment_date', models.DateField(blank=True, null=True)),
                ('is_critical_vendor', models.BooleanField(default=False)),
                ('has_data_access', models.BooleanField(default=False)),
                ('has_system_access', models.BooleanField(default=False)),
                ('data_classification_handled', models.CharField(choices=[('public', 'Public'), ('internal', 'Internal'), ('confidential', 'Confidential'), ('restricted', 'Restricted')], default='public', max_length=20)),
                ('business_criticality', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='low', max_length=10)),
                ('vendor_size_category', models.CharField(choices=[('micro', 'Micro'), ('small', 'Small'), ('medium', 'Medium'), ('large', 'Large'), ('enterprise', 'Enterprise')], default='small', max_length=20)),
                ('preferred_vendor_flag', models.BooleanField(default=False)),
                ('diversity_certification', models.JSONField(blank=True, default=dict)),
                ('sustainability_rating', models.CharField(blank=True, max_length=20, null=True)),
                ('parent_vendor_id', models.BigIntegerField(blank=True, null=True)),
                ('vendor_tier_id', models.BigIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_vendors', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_vendors', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'vendors',
                'ordering': ['company_name'],
            },
        ),
        migrations.CreateModel(
            name='VendorContract',
            fields=[
                ('contract_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('contract_number', models.CharField(help_text='Unique contract number', max_length=100, unique=True)),
                ('contract_title', models.CharField(help_text='Contract title', max_length=255)),
                ('contract_type', models.CharField(choices=[('MASTER_AGREEMENT', 'Master Agreement'), ('SOW', 'Statement of Work'), ('PURCHASE_ORDER', 'Purchase Order'), ('SERVICE_AGREEMENT', 'Service Agreement'), ('LICENSE', 'License'), ('NDA', 'Non-Disclosure Agreement')], help_text='Type of contract', max_length=20)),
                ('contract_kind', models.CharField(choices=[('MAIN', 'Main Contract'), ('SUBCONTRACT', 'Subcontract')], default='MAIN', max_length=15)),
                ('parent_contract_id', models.BigIntegerField(blank=True, help_text='Parent contract ID', null=True)),
                ('main_contract_id', models.BigIntegerField(blank=True, help_text='Main contract ID', null=True)),
                ('contract_value', models.DecimalField(blank=True, decimal_places=2, help_text='Contract value', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('currency', models.CharField(default='USD', help_text='Currency code', max_length=10)),
                ('liability_cap', models.DecimalField(blank=True, decimal_places=2, help_text='Liability cap amount', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('start_date', models.DateField(blank=True, help_text='Contract start date', null=True)),
                ('end_date', models.DateField(blank=True, help_text='Contract end date', null=True)),
                ('renewal_terms', models.TextField(blank=True, help_text='Renewal terms and conditions', null=True)),
                ('auto_renewal', models.BooleanField(default=False, help_text='Auto renewal enabled')),
                ('notice_period_days', models.PositiveIntegerField(default=30, help_text='Notice period in days')),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('UNDER_NEGOTIATION', 'Under Negotiation'), ('PENDING_SIGNATURE', 'Pending Signature'), ('ACTIVE', 'Active'), ('EXPIRED', 'Expired'), ('TERMINATED', 'Terminated')], default='DRAFT', max_length=20)),
                ('workflow_stage', models.CharField(choices=[('draft', 'Draft'), ('under_review', 'Under Review'), ('approval_pending', 'Approval Pending'), ('approved', 'Approved'), ('executed', 'Executed'), ('active', 'Active'), ('terminated', 'Terminated'), ('archived', 'Archived')], default='draft', max_length=20)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('urgent', 'Urgent')], default='medium', max_length=10)),
                ('compliance_status', models.CharField(choices=[('compliant', 'Compliant'), ('non_compliant', 'Non-Compliant'), ('under_review', 'Under Review'), ('exempt', 'Exempt')], default='under_review', max_length=15)),
                ('contract_category', models.CharField(blank=True, choices=[('goods', 'Goods'), ('services', 'Services'), ('technology', 'Technology'), ('consulting', 'Consulting'), ('maintenance', 'Maintenance'), ('licensing', 'Licensing')], max_length=20, null=True)),
                ('termination_clause_type', models.CharField(blank=True, choices=[('convenience', 'Convenience'), ('cause', 'For Cause'), ('both', 'Both'), ('none', 'None')], max_length=15, null=True)),
                ('dispute_resolution_method', models.CharField(blank=True, choices=[('negotiation', 'Negotiation'), ('mediation', 'Mediation'), ('arbitration', 'Arbitration'), ('litigation', 'Litigation')], max_length=15, null=True)),
                ('governing_law', models.CharField(blank=True, max_length=100, null=True)),
                ('contract_risk_score', models.DecimalField(blank=True, decimal_places=2, help_text='Risk score from 0-10', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('insurance_requirements', models.JSONField(blank=True, default=dict)),
                ('data_protection_clauses', models.JSONField(blank=True, default=dict)),
                ('custom_fields', models.JSONField(blank=True, default=dict)),
                ('file_path', models.CharField(blank=True, help_text='Path to contract file', max_length=500, null=True)),
                ('assigned_to', models.BigIntegerField(blank=True, help_text='Assigned user ID', null=True)),
                ('is_archived', models.BooleanField(default=False)),
                ('archived_date', models.DateTimeField(blank=True, null=True)),
                ('archive_reason', models.CharField(blank=True, choices=[('CONTRACT_EXPIRED', 'Contract Expired'), ('EARLY_TERMINATION', 'Early Termination'), ('PROJECT_COMPLETED', 'Project Completed'), ('MUTUAL_AGREEMENT', 'Mutual Agreement'), ('BREACH', 'Breach of Contract'), ('OTHER', 'Other')], max_length=20, null=True)),
                ('archive_comments', models.TextField(blank=True, null=True)),
                ('can_be_restored', models.BooleanField(default=True)),
                ('compliance_framework', models.CharField(blank=True, max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('archived_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='archived_contracts', to=settings.AUTH_USER_MODEL)),
                ('contract_owner', models.ForeignKey(blank=True, help_text='Contract owner', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='owned_contracts', to=settings.AUTH_USER_MODEL)),
                ('legal_reviewer', models.ForeignKey(blank=True, help_text='Legal reviewer', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_contracts', to=settings.AUTH_USER_MODEL)),
                ('vendor', models.ForeignKey(help_text='Associated vendor', on_delete=django.db.models.deletion.CASCADE, related_name='contracts', to='contracts.vendor')),
            ],
            options={
                'db_table': 'vendor_contracts',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ContractTerm',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('term_id', models.CharField(max_length=100, unique=True)),
                ('term_category', models.CharField(choices=[('Payment', 'Payment'), ('Delivery', 'Delivery'), ('Performance', 'Performance'), ('Liability', 'Liability'), ('Termination', 'Termination'), ('Intellectual Property', 'Intellectual Property'), ('Confidentiality', 'Confidentiality'), ('Other', 'Other')], max_length=30)),
                ('term_title', models.CharField(blank=True, max_length=255, null=True)),
                ('term_text', models.TextField()),
                ('risk_level', models.CharField(choices=[('Low', 'Low'), ('Medium', 'Medium'), ('High', 'High'), ('Urgent', 'Urgent')], default='Low', max_length=10)),
                ('compliance_status', models.CharField(choices=[('Pending', 'Pending'), ('Compliant', 'Compliant'), ('Non-Compliant', 'Non-Compliant'), ('Under Review', 'Under Review'), ('pending_review', 'Pending Review')], default='Pending', max_length=20)),
                ('is_standard', models.BooleanField(default=False)),
                ('approval_status', models.CharField(choices=[('Pending', 'Pending'), ('Approved', 'Approved'), ('Rejected', 'Rejected'), ('Under Review', 'Under Review')], default='Pending', max_length=15)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('version_number', models.CharField(default='1.0', max_length=20)),
                ('parent_term_id', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_terms', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_terms', to=settings.AUTH_USER_MODEL)),
                ('contract', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='terms', to='contracts.vendorcontract')),
            ],
            options={
                'db_table': 'contract_terms',
                'ordering': ['term_category', 'created_at'],
            },
        ),
        migrations.CreateModel(
            name='ContractClause',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('clause_id', models.CharField(max_length=100, unique=True)),
                ('clause_name', models.CharField(max_length=255)),
                ('clause_type', models.CharField(choices=[('standard', 'Standard'), ('risk', 'Risk'), ('compliance', 'Compliance'), ('financial', 'Financial'), ('operational', 'Operational'), ('renewal', 'Renewal'), ('termination', 'Termination'), ('other', 'Other')], default='standard', max_length=20)),
                ('clause_text', models.TextField()),
                ('risk_level', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical'), ('urgent', 'Urgent')], default='low', max_length=10)),
                ('legal_category', models.CharField(blank=True, max_length=100, null=True)),
                ('version_number', models.CharField(default='1.0', max_length=20)),
                ('is_standard', models.BooleanField(default=False)),
                ('notice_period_days', models.PositiveIntegerField(blank=True, null=True)),
                ('auto_renew', models.BooleanField(default=False)),
                ('renewal_terms', models.TextField(blank=True, null=True)),
                ('termination_notice_period', models.PositiveIntegerField(blank=True, null=True)),
                ('early_termination_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('termination_conditions', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_clauses', to=settings.AUTH_USER_MODEL)),
                ('contract', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='clauses', to='contracts.vendorcontract')),
            ],
            options={
                'db_table': 'contract_clauses',
                'ordering': ['clause_type', 'clause_name'],
            },
        ),
        migrations.AddIndex(
            model_name='vendor',
            index=models.Index(fields=['vendor_code'], name='vendors_vendor__656704_idx'),
        ),
        migrations.AddIndex(
            model_name='vendor',
            index=models.Index(fields=['status'], name='vendors_status_079e23_idx'),
        ),
        migrations.AddIndex(
            model_name='vendor',
            index=models.Index(fields=['risk_level'], name='vendors_risk_le_f2d732_idx'),
        ),
        migrations.AddIndex(
            model_name='vendor',
            index=models.Index(fields=['created_at'], name='vendors_created_cf453f_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['contract_number'], name='vendor_cont_contrac_77f8fd_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['status'], name='vendor_cont_status_4b0657_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['workflow_stage'], name='vendor_cont_workflo_5cfb2f_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['contract_type'], name='vendor_cont_contrac_dc15ab_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['vendor'], name='vendor_cont_vendor__b82046_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['created_at'], name='vendor_cont_created_392295_idx'),
        ),
        migrations.AddIndex(
            model_name='vendorcontract',
            index=models.Index(fields=['is_archived'], name='vendor_cont_is_arch_50fffb_idx'),
        ),
    ]
